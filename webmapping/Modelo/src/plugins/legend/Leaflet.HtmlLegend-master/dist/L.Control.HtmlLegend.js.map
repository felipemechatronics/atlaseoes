{"version":3,"sources":["webpack:///L.Control.HtmlLegend.js","webpack:///webpack/bootstrap 87575af376b2eaf6be27","webpack:///./src/L.Control.HtmlLegend.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","Array","isArray","TypeError","L","Control","HtmlLegend","extend","_map","_activeLayers","_alwaysShow","options","position","legends","collapseSimple","detectStretched","collapsedOnInit","disableVisibilityControls","updateOpacity","defaultOpacity","visibleIcon","hiddenIcon","toggleIcon","onAdd","map","this","_container","DomUtil","create","_lastId","_entries","DomEvent","disableClickPropagation","disableScrollPropagation","render","_this","empty","forEach","legend","_renderLegend","_checkVisibility","addLegend","Error","removeLegend","itemIdx","entry","layer","events","entries","_ref","_ref2","event","handler","off","remove","container","_this2","elements","className","label","block","entryIdx","_addElement","html","style","_connectLayer","header","innerHTML","addClass","on","hasClass","removeClass","elementContainer","element","row","symbol","_ref3","_ref4","k","v","_updateOpacity","opacity","setOpacity","setStyle","_layerAdd","display","_layerRemove","_this3","hasLayer","classList","add","toggleButton","dataset","visibileOpacity","e","button","target","opacityController","opacitySlider","type","min","max","step","onchange","newOpacity","layerAdd","bind","layerRemove","control","htmllegend"],"mappings":"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","file":"L.Control.HtmlLegend.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nL.Control.HtmlLegend = L.Control.extend({\n    _map: null,\n    _activeLayers: 0,\n    _alwaysShow: false,\n    options: {\n        position: 'topright',\n\n        // array of legend entries - see README for format\n        legends: [],\n\n        // if true, legend entries that are from a simple renderer will use compact presentation\n        collapseSimple: false,\n\n        // if true, will test to see if legend entries look stretched; these are usually in sets of 3 with the middle element having no label\n        detectStretched: false,\n\n        // if true, legends will be collapsed when a new instance is initialized\n        collapsedOnInit: false,\n\n        disableVisibilityControls: false,\n        updateOpacity: null,\n        defaultOpacity: 1,\n        visibleIcon: 'leaflet-html-legend-icon-eye',\n        hiddenIcon: 'leaflet-html-legend-icon-eye-slash',\n        toggleIcon: 'leaflet-html-legend-icon-eye'\n    },\n\n    onAdd: function onAdd(map) {\n        this._map = map;\n        this._container = L.DomUtil.create('div', 'leaflet-control leaflet-bar leaflet-html-legend');\n        this._lastId = 0;\n        this._entries = {};\n\n        // Disable events on container\n        L.DomEvent.disableClickPropagation(this._container);\n        L.DomEvent.disableScrollPropagation(this._container);\n\n        this.render();\n\n        return this._container;\n    },\n    render: function render() {\n        var _this = this;\n\n        L.DomUtil.empty(this._container);\n\n        this.options.legends.forEach(function (legend) {\n            return _this._renderLegend(legend);\n        }, this);\n\n        this._checkVisibility();\n    },\n    addLegend: function addLegend(legend) {\n        if (this._map) {\n            this._renderLegend(legend);\n            return this._lastId;\n        }\n        throw Error('Legend control must be added to the map first.');\n    },\n    removeLegend: function removeLegend(itemIdx) {\n        var entry = this._entries[itemIdx];\n        if (entry) {\n            if (entry.layer && entry.events) {\n                Object.entries(entry.events).forEach(function (_ref) {\n                    var _ref2 = _slicedToArray(_ref, 2),\n                        event = _ref2[0],\n                        handler = _ref2[1];\n\n                    return entry.layer.off(event, handler);\n                });\n            }\n            L.DomUtil.remove(this._entries[itemIdx].container);\n            delete this._entries[itemIdx];\n        }\n    },\n    _renderLegend: function _renderLegend(legend) {\n        var _this2 = this;\n\n        if (!legend.elements) {\n            return;\n        }\n\n        var elements = legend.elements;\n\n        var className = 'legend-block';\n\n        if (this.options.detectStretched) {\n            if (elements.length === 3 && elements[0].label !== '' && elements[1].label === '' && elements[2].label !== '') {\n                className += ' legend-stretched';\n            }\n        }\n\n        var block = L.DomUtil.create('div', className, this._container);\n        var entryIdx = ++this._lastId;\n        this._entries[entryIdx] = { container: block };\n\n        if (this.options.collapseSimple && elements.length === 1 && !elements[0].label) {\n            this._addElement(elements[0].html, legend.name, elements[0].style, block);\n            this._connectLayer(block, legend, entryIdx);\n            return block;\n        }\n\n        if (legend.name) {\n            var header = L.DomUtil.create('h4', null, block);\n            L.DomUtil.create('div', 'legend-caret', header);\n            L.DomUtil.create('span', null, header).innerHTML = legend.name;\n\n            if (this.options.collapsedOnInit) {\n                L.DomUtil.addClass(header, 'closed');\n            }\n\n            L.DomEvent.on(header, 'click', function () {\n                if (L.DomUtil.hasClass(header, 'closed')) {\n                    L.DomUtil.removeClass(header, 'closed');\n                } else {\n                    L.DomUtil.addClass(header, 'closed');\n                }\n            }, this);\n        }\n\n        var elementContainer = L.DomUtil.create('div', 'legend-elements', block);\n\n        elements.forEach(function (element) {\n            _this2._addElement(element.html, element.label, element.style, elementContainer);\n        }, this);\n\n        this._connectLayer(block, legend, entryIdx);\n        return block;\n    },\n    _addElement: function _addElement(html, label, style, container) {\n        var row = L.DomUtil.create('div', 'legend-row', container);\n        var symbol = L.DomUtil.create('span', 'symbol', row);\n        if (style) {\n            Object.entries(style).forEach(function (_ref3) {\n                var _ref4 = _slicedToArray(_ref3, 2),\n                    k = _ref4[0],\n                    v = _ref4[1];\n\n                symbol.style[k] = v;\n            });\n        }\n        symbol.innerHTML = html;\n        if (label) {\n            L.DomUtil.create('label', null, row).innerHTML = label;\n        }\n    },\n    _updateOpacity: function _updateOpacity(layer, opacity) {\n        if (typeof this.options.updateOpacity === 'function') {\n            this.options.updateOpacity(layer, opacity);\n        } else if (typeof layer.setOpacity === 'function') {\n            layer.setOpacity(opacity);\n        } else if (typeof layer.setStyle === 'function') {\n            layer.setStyle({ opacity: opacity });\n        }\n    },\n    _layerAdd: function _layerAdd(container) {\n        this._activeLayers += 1;\n        container.style.display = '';\n        this._checkVisibility();\n    },\n    _layerRemove: function _layerRemove(container) {\n        this._activeLayers -= 1;\n        container.style.display = 'none';\n        this._checkVisibility();\n    },\n    _connectLayer: function _connectLayer(container, legend, entryIdx) {\n        var _this3 = this;\n\n        var layer = legend.layer;\n\n        if (!layer) {\n            this._alwaysShow = true;\n            return;\n        }\n\n        if (this._map.hasLayer(layer)) {\n            this._activeLayers += 1;\n        } else {\n            container.style.display = 'none';\n        }\n\n        container.classList.add('layer-control');\n\n        if (!this.options.disableVisibilityControls) {\n            var opacity = layer.opacity || this.options.defaultOpacity || 1;\n            this._updateOpacity(layer, opacity);\n\n            var toggleButton = L.DomUtil.create('i', 'visibility-toggle ' + this.options.toggleIcon, container);\n            toggleButton.dataset.visibileOpacity = opacity;\n            L.DomEvent.on(toggleButton, 'click', function (e) {\n                var button = e.target;\n                if (L.DomUtil.hasClass(button, 'disabled')) {\n                    L.DomUtil.removeClass(button, 'disabled');\n                    _this3._updateOpacity(layer, button.dataset.visibileOpacity);\n                } else {\n                    L.DomUtil.addClass(button, 'disabled');\n                    _this3._updateOpacity(layer, 0);\n                }\n            });\n\n            var opacityController = L.DomUtil.create('span', 'opacity-slider', container);\n\n            L.DomUtil.create('span', 'slider-label', opacityController).innerHTML = 'Transparency:';\n\n            L.DomUtil.create('i', this.options.visibleIcon, opacityController);\n\n            var opacitySlider = L.DomUtil.create('input', null, opacityController);\n            opacitySlider.type = 'range';\n            opacitySlider.min = 0;\n            opacitySlider.max = 1;\n            opacitySlider.step = 0.1;\n            opacitySlider.onchange = function (e) {\n                var newOpacity = 1 - e.target.value || 0;\n                _this3._updateOpacity(layer, newOpacity);\n                toggleButton.dataset.visibileOpacity = newOpacity;\n                L.DomUtil.removeClass(toggleButton, 'disabled');\n            };\n            opacitySlider.value = 1 - opacity;\n\n            L.DomUtil.create('i', this.options.hiddenIcon, opacityController);\n        };\n\n        var layerAdd = this._layerAdd.bind(this, container);\n        var layerRemove = this._layerRemove.bind(this, container);\n        layer.on('add', layerAdd).on('remove', layerRemove);\n        this._entries[entryIdx].layer = layer;\n        this._entries[entryIdx].events = {\n            add: layerAdd,\n            remove: layerRemove\n        };\n    },\n    _checkVisibility: function _checkVisibility() {\n        if (this._alwaysShow || this._activeLayers) {\n            this._container.style.display = '';\n        } else {\n            this._container.style.display = 'none';\n        }\n    }\n});\n\nL.control.htmllegend = function (options) {\n    return new L.Control.HtmlLegend(options);\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// L.Control.HtmlLegend.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 87575af376b2eaf6be27","L.Control.HtmlLegend = L.Control.extend({\n    _map: null,\n    _activeLayers: 0,\n    _alwaysShow: false,\n    options: {\n        position: 'topright',\n\n        // array of legend entries - see README for format\n        legends: [],\n\n        // if true, legend entries that are from a simple renderer will use compact presentation\n        collapseSimple: false,\n\n        // if true, will test to see if legend entries look stretched; these are usually in sets of 3 with the middle element having no label\n        detectStretched: false,\n\n        // if true, legends will be collapsed when a new instance is initialized\n        collapsedOnInit: false,\n\n        disableVisibilityControls: false,\n        updateOpacity: null,\n        defaultOpacity: 1,\n        visibleIcon: 'leaflet-html-legend-icon-eye',\n        hiddenIcon: 'leaflet-html-legend-icon-eye-slash',\n        toggleIcon: 'leaflet-html-legend-icon-eye'\n    },\n\n    onAdd(map) {\n        this._map = map;\n        this._container = L.DomUtil.create('div', 'leaflet-control leaflet-bar leaflet-html-legend');\n        this._lastId = 0;\n        this._entries = {};\n\n        // Disable events on container\n        L.DomEvent.disableClickPropagation(this._container);\n        L.DomEvent.disableScrollPropagation(this._container);\n\n        this.render();\n\n        return this._container;\n    },\n\n    render() {\n        L.DomUtil.empty(this._container);\n\n        this.options.legends.forEach(legend => this._renderLegend(legend), this);\n\n        this._checkVisibility();\n    },\n\n    addLegend(legend) {\n        if (this._map) {\n            this._renderLegend(legend);\n            return this._lastId;\n        }\n        throw Error('Legend control must be added to the map first.')\n    },\n\n    removeLegend(itemIdx) {\n        const entry = this._entries[itemIdx]\n        if (entry) {\n            if (entry.layer && entry.events) {\n                Object.entries(entry.events).forEach(([event, handler]) => entry.layer.off(event, handler))\n            }\n            L.DomUtil.remove(this._entries[itemIdx].container)\n            delete this._entries[itemIdx]\n        }\n    },\n\n    _renderLegend(legend) {\n        if (!legend.elements) {\n            return;\n        }\n\n        const elements = legend.elements;\n\n        let className = 'legend-block';\n\n        if (this.options.detectStretched) {\n            if (\n                elements.length === 3 &&\n                elements[0].label !== '' &&\n                elements[1].label === '' &&\n                elements[2].label !== ''\n            ) {\n                className += ' legend-stretched';\n            }\n        }\n\n        const block = L.DomUtil.create('div', className, this._container);\n        const entryIdx = ++this._lastId;\n        this._entries[entryIdx] = { container: block }\n\n        if (this.options.collapseSimple && elements.length === 1 && !elements[0].label) {\n            this._addElement(elements[0].html, legend.name, elements[0].style, block);\n            this._connectLayer(block, legend, entryIdx);\n            return block;\n        }\n\n        if (legend.name) {\n            const header = L.DomUtil.create('h4', null, block);\n            L.DomUtil.create('div', 'legend-caret', header);\n            L.DomUtil.create('span', null, header).innerHTML = legend.name;\n\n            if (this.options.collapsedOnInit) {\n                L.DomUtil.addClass(header, 'closed');\n            }\n\n            L.DomEvent.on(header, 'click', () => {\n                if (L.DomUtil.hasClass(header, 'closed')) {\n                    L.DomUtil.removeClass(header, 'closed');\n                }\n                else {\n                    L.DomUtil.addClass(header, 'closed');\n                }\n            }, this);\n        }\n\n        const elementContainer = L.DomUtil.create('div', 'legend-elements', block);\n\n        elements.forEach((element) => {\n            this._addElement(element.html, element.label, element.style, elementContainer);\n        }, this);\n\n        this._connectLayer(block, legend, entryIdx);\n        return block;\n    },\n\n    _addElement(html, label, style, container) {\n        const row = L.DomUtil.create('div', 'legend-row', container);\n        const symbol = L.DomUtil.create('span', 'symbol', row);\n        if (style) {\n            Object.entries(style).forEach(([k, v]) => { symbol.style[k] = v; });\n        }\n        symbol.innerHTML = html;\n        if (label) {\n            L.DomUtil.create('label', null, row).innerHTML = label;\n        }\n    },\n\n    _updateOpacity(layer, opacity) {\n        if (typeof this.options.updateOpacity === 'function') {\n            this.options.updateOpacity(layer, opacity)\n        } else if (typeof layer.setOpacity === 'function') {\n            layer.setOpacity(opacity);\n        } else if (typeof layer.setStyle === 'function') {\n            layer.setStyle({ opacity });\n        }\n    },\n\n    _layerAdd(container) {\n        this._activeLayers += 1;\n        container.style.display = '';\n        this._checkVisibility();\n    },\n\n    _layerRemove(container) {\n        this._activeLayers -= 1;\n        container.style.display = 'none';\n        this._checkVisibility();\n    },\n\n    _connectLayer(container, legend, entryIdx) {\n        const layer = legend.layer;\n\n        if (!layer) {\n            this._alwaysShow = true;\n            return;\n        }\n\n        if (this._map.hasLayer(layer)) {\n            this._activeLayers += 1;\n        }\n        else {\n            container.style.display = 'none';\n        }\n\n        container.classList.add('layer-control');\n\n        if (!this.options.disableVisibilityControls) {\n            const opacity = layer.opacity || this.options.defaultOpacity || 1;\n            this._updateOpacity(layer, opacity);\n\n            const toggleButton = L.DomUtil.create('i', `visibility-toggle ${this.options.toggleIcon}`, container);\n            toggleButton.dataset.visibileOpacity = opacity;\n            L.DomEvent.on(toggleButton, 'click', (e) => {\n                const button = e.target;\n                if (L.DomUtil.hasClass(button, 'disabled')) {\n                    L.DomUtil.removeClass(button, 'disabled');\n                    this._updateOpacity(layer, button.dataset.visibileOpacity);\n                }\n                else {\n                    L.DomUtil.addClass(button, 'disabled');\n                    this._updateOpacity(layer, 0);\n                }\n            });\n\n            const opacityController = L.DomUtil.create('span', 'opacity-slider', container);\n\n            L.DomUtil.create('span', 'slider-label', opacityController).innerHTML = 'Transparency:';\n\n            L.DomUtil.create('i', this.options.visibleIcon, opacityController);\n\n            const opacitySlider = L.DomUtil.create('input', null, opacityController);\n            opacitySlider.type = 'range';\n            opacitySlider.min = 0;\n            opacitySlider.max = 1;\n            opacitySlider.step = 0.1;\n            opacitySlider.onchange = ((e) => {\n                const newOpacity = 1 - e.target.value || 0;\n                this._updateOpacity(layer, newOpacity);\n                toggleButton.dataset.visibileOpacity = newOpacity;\n                L.DomUtil.removeClass(toggleButton, 'disabled');\n            });\n            opacitySlider.value = 1 - (opacity);\n\n            L.DomUtil.create('i', this.options.hiddenIcon, opacityController);\n        };\n\n\n        const layerAdd = this._layerAdd.bind(this, container)\n        const layerRemove = this._layerRemove.bind(this, container)\n        layer.on('add', layerAdd).on('remove', layerRemove)\n        this._entries[entryIdx].layer = layer\n        this._entries[entryIdx].events = {\n            add: layerAdd,\n            remove: layerRemove\n        }\n    },\n\n    _checkVisibility() {\n        if (this._alwaysShow || this._activeLayers) {\n            this._container.style.display = '';\n        }\n        else {\n            this._container.style.display = 'none';\n        }\n    }\n});\n\nL.control.htmllegend = options => new L.Control.HtmlLegend(options);\n\n\n\n// WEBPACK FOOTER //\n// ./src/L.Control.HtmlLegend.js"],"sourceRoot":""}